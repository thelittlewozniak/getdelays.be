@using GetDelaysAPI;
@{
    ViewBag.Title = "Profile";
    User u = (User)Session["user"];
}

<h2>Profile</h2>
<p>Name: @u.name</p>
<p>Firstname: @u.surname</p>
<p>Email: @u.email</p>
<p>Phone Number: @u.phoneNumber</p>
@if (u.followedStations != null && u.followedStations.Count >= 1)
{
    <table>
        <caption>Followed Stations: </caption>
        <thead>
            <tr>
                <td>Station Name:</td>
                <td>Edits:</td>
            </tr>
        </thead>
        <tbody>
            @foreach (FollowedStation fs in u.followedStations)
            {
                <tr>
                    <td> @Html.ActionLink(fs.stationName, "GetStationsByName", "Station", routeValues: new { station = fs.stationName }, htmlAttributes: null)</td>
                    <td>@Html.ActionLink("Delete", "DeleteFollowStationProfile", "Station", routeValues: new { station = fs.stationName }, htmlAttributes: null)</td>
                </tr>
            }

        </tbody>
    </table>
}
@if (u.followedConnections != null && u.followedConnections.Count >= 1)
{
    <table>
        <caption>Followed Connections:</caption>
        <thead>
            <tr>
                <td>Departure Station</td>
                <td>Arrival Station</td>
            </tr>
        </thead>
        @foreach (FollowedConnection fc in u.followedConnections)
        {
            <tr class="Arrival">
                <td> @Html.ActionLink(fc.departure, "GetStationsByName", "Station", routeValues: new { station = fc.departure }, htmlAttributes: null))</td>
                <td> @Html.ActionLink(fc.arrival, "GetStationsByName", "Station", routeValues: new { station = fc.arrival }, htmlAttributes: null))</td>
                <td> @fc.DateTime</td>
                <td> Edit</td>
            </tr>
        }
    </table>
}
<br />
<br />
<br />
<p>@Html.ActionLink("Edit Your Information", "MakeChangeInformation", "User")</p>
<p>@Html.ActionLink("Delete Your Profile", "DeleteUser", "User")</p>

